/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.11
 * 编译日期：2022-05-24 19:19:18
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x3b7b26=_0x23a0;(function(_0x272ccd,_0x41db83){var _0x1f32ab=_0x23a0,_0x5ba9a2=_0x272ccd();while(!![]){try{var _0x10d578=-parseInt(_0x1f32ab(0xfb))/0x1*(parseInt(_0x1f32ab(0xdb))/0x2)+parseInt(_0x1f32ab(0xad))/0x3+-parseInt(_0x1f32ab(0x110))/0x4+-parseInt(_0x1f32ab(0xba))/0x5+parseInt(_0x1f32ab(0x128))/0x6+parseInt(_0x1f32ab(0x13c))/0x7+parseInt(_0x1f32ab(0xbb))/0x8;if(_0x10d578===_0x41db83)break;else _0x5ba9a2['push'](_0x5ba9a2['shift']());}catch(_0x527308){_0x5ba9a2['push'](_0x5ba9a2['shift']());}}}(_0x5ca3,0x20fa8));function _interopNamespace(_0x585443){var _0xf7f887=_0x23a0;if(_0x585443&&_0x585443[_0xf7f887(0xee)])return _0x585443;var _0x39ce10=Object['create'](null);return _0x585443&&Object[_0xf7f887(0xfa)](_0x585443)[_0xf7f887(0xe8)](function(_0x514b52){var _0x53bb00=_0xf7f887;if(_0x514b52!==_0x53bb00(0xda)){var _0x54b684=Object[_0x53bb00(0x11a)](_0x585443,_0x514b52);Object[_0x53bb00(0x109)](_0x39ce10,_0x514b52,_0x54b684['get']?_0x54b684:{'enumerable':!![],'get':function(){return _0x585443[_0x514b52];}});}}),_0x39ce10[_0xf7f887(0xda)]=_0x585443,_0x39ce10;}function _0x5ca3(){var _0x37fd88=['sgvHDeXHEwvY','CMfKAxvZ','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','y3jLyxrL','y29UDgfPBMvY','zgvMAw5LuhjVCgvYDhK','x19WCM90B19F','Eg1PBG','Dw5PzM9YBxm','y3r4','u3rLBMnPBe9WzxjHDgLVBG','zgf0yq','nJCZndq0wLDpChvT','Ew1PBG','Bg5N','D2LKDgG6','zgL2','x21HCNmZzf9WCML2yxrL','B2jQzwn0','y2XPzw50v2LKDgG','vxrPBa','ug9PBNruCMfUCW','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','C3r5Bgu','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','CMvTB3zLtgf5zxi','x3bVC2L0Aw9UCW','zMXVB3i','uMvJDgfUz2XL','zNjVBunHy2HL','qMXLBMrPBMDtDgf0zq','ChjVDg90ExbL','Bgf0','x2nYzwf0zuDYyxbOAwm','x2DYyxbOAwm','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','nJy5odqWDuTSthLp','CgfYC2u','EwvSBg93','yMX1CG','z3jHzgLLBNrbCMm','CMvK','D2LKDgG','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','x2XHEwvY','CMvJDgfUz2XL','vKvsvevyx0zpuK1bva','x3nLDe9WDgLVBNniB29R','q2vZAxvT','Cg9PBNrZ','Bwf4q2fUDMfZu2L6zq','Cg9ZAxrPB25Z','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','yM9KEq','qMfZzuXHEwvY','zNvUy3rPB24','mtCYmty0m1LJD29nCq','ChvZAa','ChG7','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','quXxqvLt','B3b0Aw9UCW','C2v0ug9ZAxrPB25Z','x2nYzwf0zufYy0DYyxbOAwm','z2v0uMvJDgfUz2XL','Bgf5zxi','u3rLBMnPBez1BMn0Aw9U','AgvPz2H0','z2v0uhjVDg90ExbLt2y','tg5Ntgf0ug9PBNq','x21VDw50zwriB29R','y29UzMLNDxjL','q2fYDgvZAwfUmG','CMvTB3zLr3jHCgHPyW','mtK2nta5AhHPALvj','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','twf0zxjPywW','x21cB3vUzhnnyxG','x2HLyxq','BgvUz3rO','C3bSAxroDw0','y2fUDMfZ','zMX5vg8','yNvTCe1HCa','y29WEunHBNzHCW','y29UC3rYDwn0B3i','x3jLy3rHBMDSzq','nZy3nteWr2ncDhHe','mtCWnZC1mNDUAefHAa','AxngB3jTyxq','x2DLDeHLyxrdyw52yxm','BwvYy2f0B3iYBg9UBgf0','Dg9bCNjHEq','CMDIysG','y29Uy2f0','ywrKug9ZAxrPB24','Bg9UBgf0mM1LCMnHDg9Y','CMDIkde0mcWXndaSmtqWkq','x2fKzgvKsg9VAW','y2XLyxi','yMX1zq','CM91BMq','q29SB3i','yxjJ','rg9TvxrPBa','A2v5','yxjJuMfKAxvZu2nHBgu','z2v0ug9PBNreyxrH','yxbWBhK','DMfSDwu','x21HCa','zgLMzKHLAwDODa','C2HHBq','ywjZ','D3jPDgfIBgu','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','CMvTB3zL','s0vfua','C2v0rgf0yq','zgvMyxvSDa','mtC5nJe4EKnHA0Db','r3jHCgHPy0XHEwvY','Ew1HEa','DMfSDwvpzG','z3jHBNvSyxjPDhK','y29UC3rYDwn0','x3jLBMrLCMvY','C2HVDW','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','Bwf4','ywrKr3jHCgHPyW','Eg1HEa','z3jHCgHPyW','zM9YrwfJAa','x3nJywXL','y29UzMLNDxjHyMXL','BwLU','y3nZvgv4Da','x2XHC3rFBujVDw5KCW','x19LC01VzhvSzq','y2fSBa','Dw5KzwzPBMvK','x2DLDefYy0HLyxrdyw52yxm','CMDIkdaSmcWWkq','ChG7AgvPz2H0oG','ug9SEvv0AwW','z2v0sw1Hz2veyxrH','uMvUzgvYu3rHDgu','BwLUq2fUDMfZu2L6zq','Aw1Hz2u','zgvMyxvSDfzHBhvL','A2v5CW','mK9tu05psW','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','AgvHDfn0EwXL','x2XHC3rFAgvHDerHDge','zw51BwvYywjSzq','tgf5zxjvDgLS','C2v0uhjVDg90ExbLt2y','BwvYz2u','zMLSDgvY'];_0x5ca3=function(){return _0x37fd88;};return _0x5ca3();}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x532a83,_0x4e38d3){var _0x3dabdb=_0x23a0,_0x230d8c=Object[_0x3dabdb(0xfa)](_0x532a83);if(Object[_0x3dabdb(0x106)]){var _0x3349cb=Object[_0x3dabdb(0x106)](_0x532a83);_0x4e38d3&&(_0x3349cb=_0x3349cb[_0x3dabdb(0x103)](function(_0x2cf641){var _0xd331a9=_0x3dabdb;return Object[_0xd331a9(0x11a)](_0x532a83,_0x2cf641)[_0xd331a9(0xff)];})),_0x230d8c[_0x3dabdb(0x13d)][_0x3dabdb(0xcf)](_0x230d8c,_0x3349cb);}return _0x230d8c;}function _objectSpread2(_0x1ecbb9){var _0x24fa79=_0x23a0;for(var _0x456910=0x1;_0x456910<arguments[_0x24fa79(0xb2)];_0x456910++){var _0x348f6b=null!=arguments[_0x456910]?arguments[_0x456910]:{};_0x456910%0x2?ownKeys(Object(_0x348f6b),!0x0)[_0x24fa79(0xe8)](function(_0x58cc01){_defineProperty(_0x1ecbb9,_0x58cc01,_0x348f6b[_0x58cc01]);}):Object[_0x24fa79(0x138)]?Object['defineProperties'](_0x1ecbb9,Object[_0x24fa79(0x138)](_0x348f6b)):ownKeys(Object(_0x348f6b))['forEach'](function(_0x491f49){var _0x5d5810=_0x24fa79;Object['defineProperty'](_0x1ecbb9,_0x491f49,Object[_0x5d5810(0x11a)](_0x348f6b,_0x491f49));});}return _0x1ecbb9;}function _classCallCheck(_0x140ab6,_0x30b585){var _0x1c8b42=_0x23a0;if(!(_0x140ab6 instanceof _0x30b585))throw new TypeError(_0x1c8b42(0xe3));}function _defineProperties(_0x45886c,_0x341a2b){var _0x461506=_0x23a0;for(var _0x2f3369=0x0;_0x2f3369<_0x341a2b[_0x461506(0xb2)];_0x2f3369++){var _0x367ad3=_0x341a2b[_0x2f3369];_0x367ad3['enumerable']=_0x367ad3[_0x461506(0xff)]||![],_0x367ad3[_0x461506(0xea)]=!![];if('value'in _0x367ad3)_0x367ad3[_0x461506(0xd5)]=!![];Object[_0x461506(0x109)](_0x45886c,_0x367ad3[_0x461506(0xcc)],_0x367ad3);}}function _createClass(_0x2990d0,_0x32983b,_0x6374fb){var _0x1f2f78=_0x23a0;if(_0x32983b)_defineProperties(_0x2990d0[_0x1f2f78(0x123)],_0x32983b);if(_0x6374fb)_defineProperties(_0x2990d0,_0x6374fb);return Object[_0x1f2f78(0x109)](_0x2990d0,_0x1f2f78(0x123),{'writable':![]}),_0x2990d0;}function _defineProperty(_0x5dc93e,_0x1e0f53,_0x146f7f){var _0x55fa97=_0x23a0;return _0x1e0f53 in _0x5dc93e?Object[_0x55fa97(0x109)](_0x5dc93e,_0x1e0f53,{'value':_0x146f7f,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x5dc93e[_0x1e0f53]=_0x146f7f,_0x5dc93e;}function _inherits(_0x3032d0,_0x3ddb5f){var _0x48cd69=_0x23a0;if(typeof _0x3ddb5f!==_0x48cd69(0x13b)&&_0x3ddb5f!==null)throw new TypeError(_0x48cd69(0xae));_0x3032d0[_0x48cd69(0x123)]=Object[_0x48cd69(0x107)](_0x3ddb5f&&_0x3ddb5f[_0x48cd69(0x123)],{'constructor':{'value':_0x3032d0,'writable':!![],'configurable':!![]}}),Object[_0x48cd69(0x109)](_0x3032d0,'prototype',{'writable':![]});if(_0x3ddb5f)_setPrototypeOf(_0x3032d0,_0x3ddb5f);}function _getPrototypeOf(_0x19678b){var _0x991c5f=_0x23a0;return _getPrototypeOf=Object[_0x991c5f(0x101)]?Object[_0x991c5f(0xa7)]:function _0x16c7c1(_0x56cd29){var _0x2ff23d=_0x991c5f;return _0x56cd29['__proto__']||Object[_0x2ff23d(0xa7)](_0x56cd29);},_getPrototypeOf(_0x19678b);}function _setPrototypeOf(_0x3d5e5f,_0x48b418){var _0x33b1c8=_0x23a0;return _setPrototypeOf=Object[_0x33b1c8(0x101)]||function _0x33fc2e(_0x4a025d,_0x881fba){var _0x5e3287=_0x33b1c8;return _0x4a025d[_0x5e3287(0x10a)]=_0x881fba,_0x4a025d;},_setPrototypeOf(_0x3d5e5f,_0x48b418);}function _isNativeReflectConstruct(){var _0x53b5d6=_0x23a0;if(typeof Reflect===_0x53b5d6(0xf0)||!Reflect[_0x53b5d6(0xe0)])return![];if(Reflect[_0x53b5d6(0xe0)][_0x53b5d6(0xd3)])return![];if(typeof Proxy===_0x53b5d6(0x13b))return!![];try{return Boolean[_0x53b5d6(0x123)][_0x53b5d6(0xde)]['call'](Reflect['construct'](Boolean,[],function(){})),!![];}catch(_0x5269de){return![];}}function _assertThisInitialized(_0x16eb94){var _0x2381da=_0x23a0;if(_0x16eb94===void 0x0)throw new ReferenceError(_0x2381da(0xfc));return _0x16eb94;}function _possibleConstructorReturn(_0xe1c03c,_0x1c5afd){var _0x36c1c8=_0x23a0;if(_0x1c5afd&&(typeof _0x1c5afd===_0x36c1c8(0x116)||typeof _0x1c5afd===_0x36c1c8(0x13b)))return _0x1c5afd;else{if(_0x1c5afd!==void 0x0)throw new TypeError(_0x36c1c8(0xd6));}return _assertThisInitialized(_0xe1c03c);}function _createSuper(_0x19cc6c){var _0x391fb5=_isNativeReflectConstruct();return function _0x47da7b(){var _0x2bc1fb=_0x23a0,_0x84e3d5=_getPrototypeOf(_0x19cc6c),_0x5dd048;if(_0x391fb5){var _0x1c40b0=_getPrototypeOf(this)[_0x2bc1fb(0xb8)];_0x5dd048=Reflect[_0x2bc1fb(0xe0)](_0x84e3d5,arguments,_0x1c40b0);}else _0x5dd048=_0x84e3d5[_0x2bc1fb(0xcf)](this,arguments);return _possibleConstructorReturn(this,_0x5dd048);};}var HeatMaterial=_0x3b7b26(0x127);function _0x23a0(_0x538db5,_0x14a926){var _0x5ca370=_0x5ca3();return _0x23a0=function(_0x23a027,_0x3c5c8f){_0x23a027=_0x23a027-0x9d;var _0x324fdb=_0x5ca370[_0x23a027];if(_0x23a0['HoBWkO']===undefined){var _0x48ae64=function(_0x585443){var _0x39ce10='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x514b52='',_0x54b684='';for(var _0x532a83=0x0,_0x4e38d3,_0x230d8c,_0x3349cb=0x0;_0x230d8c=_0x585443['charAt'](_0x3349cb++);~_0x230d8c&&(_0x4e38d3=_0x532a83%0x4?_0x4e38d3*0x40+_0x230d8c:_0x230d8c,_0x532a83++%0x4)?_0x514b52+=String['fromCharCode'](0xff&_0x4e38d3>>(-0x2*_0x532a83&0x6)):0x0){_0x230d8c=_0x39ce10['indexOf'](_0x230d8c);}for(var _0x2cf641=0x0,_0x1ecbb9=_0x514b52['length'];_0x2cf641<_0x1ecbb9;_0x2cf641++){_0x54b684+='%'+('00'+_0x514b52['charCodeAt'](_0x2cf641)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x54b684);};_0x23a0['GwDmsI']=_0x48ae64,_0x538db5=arguments,_0x23a0['HoBWkO']=!![];}var _0x10b747=_0x5ca370[0x0],_0xdf7d4a=_0x23a027+_0x10b747,_0x36419f=_0x538db5[_0xdf7d4a];return!_0x36419f?(_0x324fdb=_0x23a0['GwDmsI'](_0x324fdb),_0x538db5[_0xdf7d4a]=_0x324fdb):_0x324fdb=_0x36419f,_0x324fdb;},_0x23a0(_0x538db5,_0x14a926);}if(!h337__namespace[_0x3b7b26(0x107)])throw new Error('请引入\x20heatmap.js\x20库\x20');var Cesium=mars3d__namespace[_0x3b7b26(0x134)],BaseLayer=mars3d__namespace[_0x3b7b26(0xa4)][_0x3b7b26(0x13a)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x3b7b26(0xc7),0.6:'green',0.8:_0x3b7b26(0x12a),0.9:_0x3b7b26(0x12d)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x3b7b26(0x132)]},HeatLayer=function(_0x37ddce){var _0x436d2c=_0x3b7b26;_inherits(_0x5e681e,_0x37ddce);var _0x22d8e3=_createSuper(_0x5e681e);function _0x5e681e(){var _0x157eea=_0x23a0,_0x424ef3,_0x35c15b=arguments[_0x157eea(0xb2)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x5e681e),_0x424ef3=_0x22d8e3[_0x157eea(0xef)](this,_0x35c15b),_0x424ef3[_0x157eea(0xa0)][_0x157eea(0x136)]=Cesium[_0x157eea(0xf9)](_0x424ef3[_0x157eea(0xa0)][_0x157eea(0x136)],document[_0x157eea(0x139)][_0x157eea(0x117)]),_0x424ef3[_0x157eea(0xa0)][_0x157eea(0x136)]=Math['min'](_0x424ef3['options'][_0x157eea(0x136)],0x1388),_0x424ef3[_0x157eea(0xa0)]['minCanvasSize']=Cesium[_0x157eea(0xf9)](_0x424ef3[_0x157eea(0xa0)][_0x157eea(0xf7)],document[_0x157eea(0x139)]['clientHeight']),_0x424ef3[_0x157eea(0xa0)][_0x157eea(0xf7)]=Math[_0x157eea(0xe4)](_0x424ef3['options'][_0x157eea(0xf7)],0x2bc),_0x424ef3['options'][_0x157eea(0xfd)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x424ef3[_0x157eea(0xa0)]['heatStyle']||{}),_0x424ef3[_0x157eea(0xa0)][_0x157eea(0x11b)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x424ef3[_0x157eea(0xa0)][_0x157eea(0x11b)]||{}),_0x424ef3;}return _createClass(_0x5e681e,[{'key':_0x436d2c(0xa4),'get':function _0x123ecc(){return this['_layer'];}},{'key':_0x436d2c(0xfd),'get':function _0x41c64f(){var _0x2de50e=_0x436d2c;return this[_0x2de50e(0xa0)][_0x2de50e(0xfd)];},'set':function _0x4e2c59(_0x440399){var _0x60311a=_0x436d2c;this[_0x60311a(0xa0)][_0x60311a(0xfd)]=mars3d__namespace[_0x60311a(0x118)]['merge'](this['options'][_0x60311a(0xfd)],_0x440399),this[_0x60311a(0xb1)]&&(this[_0x60311a(0xb1)][_0x60311a(0xaa)](this['options']['heatStyle']),this[_0x60311a(0x11c)](!![]));}},{'key':_0x436d2c(0x11b),'get':function _0x61a922(){var _0x1dcb53=_0x436d2c;return this[_0x1dcb53(0xa0)][_0x1dcb53(0x11b)];},'set':function _0x296d62(_0x129365){var _0x3c2801=_0x436d2c;this['options'][_0x3c2801(0x11b)]=mars3d__namespace[_0x3c2801(0x118)][_0x3c2801(0x102)](this[_0x3c2801(0xa0)][_0x3c2801(0x11b)],_0x129365);}},{'key':_0x436d2c(0x137),'get':function _0x562610(){var _0x5cb6f2=_0x436d2c;return this[_0x5cb6f2(0x11e)];},'set':function _0xa862ae(_0x463c18){this['setPositions'](_0x463c18);}},{'key':'coordinates','get':function _0x4bea58(){var _0x5fc5e3=_0x436d2c,_0x3099b6=[];return this[_0x5fc5e3(0x135)]['forEach'](function(_0x3fda86){var _0x2788d0=_0x5fc5e3;_0x3099b6[_0x2788d0(0x13d)](_0x3fda86[_0x2788d0(0xbf)]());}),_0x3099b6;}},{'key':_0x436d2c(0x131),'get':function _0x506549(){var _0x9d3eae=_0x436d2c;return this[_0x9d3eae(0xb9)];}},{'key':_0x436d2c(0x133),'value':function _0x383909(_0x12b9ce){var _0x23282b=_0x436d2c;_0x12b9ce['positions']&&(this['positions']=_0x12b9ce[_0x23282b(0x137)]);}},{'key':_0x436d2c(0xa9),'value':function _0x249b42(){var _0xded6b3=_0x436d2c;this[_0xded6b3(0x130)]=new mars3d__namespace[(_0xded6b3(0xa4))][(_0xded6b3(0xdc))]({'noLayerManage':!![]}),this[_0xded6b3(0x130)][_0xded6b3(0x115)]=!![];}},{'key':_0x436d2c(0xc5),'value':function _0x16b2e8(){var _0x318a74=_0x436d2c;this['_map']['addLayer'](this['_layer']),this['options']['positions']&&(this[_0x318a74(0x137)]=this[_0x318a74(0xa0)][_0x318a74(0x137)]),this[_0x318a74(0xa0)][_0x318a74(0xb5)]&&this['flyToByAnimationEnd']();}},{'key':'_removedHook','value':function _0x4dae36(){var _0x25861c=_0x436d2c;this['heatStyle'][_0x25861c(0x108)]&&(mars3d__namespace['DomUtil'][_0x25861c(0xd7)](this[_0x25861c(0xfd)][_0x25861c(0x108)]),delete this[_0x25861c(0xfd)][_0x25861c(0x108)]),this[_0x25861c(0xc6)](),this[_0x25861c(0xd1)][_0x25861c(0x11d)](this[_0x25861c(0x130)]);}},{'key':_0x436d2c(0xc2),'value':function _0x206cd7(_0x272af0,_0x4757f2){var _0x40d229=_0x436d2c;this[_0x40d229(0x11e)]=this[_0x40d229(0x11e)]||[],this['_positions']['push'](_0x272af0),this[_0x40d229(0x11c)](_0x4757f2);}},{'key':_0x436d2c(0xa1),'value':function _0x4e1a75(_0x2ce666,_0x2507ea){var _0x3b0a73=_0x436d2c;this['_positions']=_0x2ce666,this[_0x3b0a73(0x11c)](_0x2507ea);}},{'key':'clear','value':function _0x4b4434(){var _0x28889f=_0x436d2c;this['_graphic']&&(this['_layer'][_0x28889f(0xac)](this['_graphic'],!![]),delete this[_0x28889f(0x126)]);}},{'key':_0x436d2c(0x11c),'value':function _0x46f9f5(_0x585653){var _0x250091=_0x436d2c;if(!this[_0x250091(0xe2)]||!this[_0x250091(0xd1)]||!this['positions']||this[_0x250091(0x137)]['length']===0x0)return this;var _0x226136=this[_0x250091(0xbd)]();return this[_0x250091(0x11b)][_0x250091(0xca)]?this[_0x250091(0x126)]&&_0x585653?(this[_0x250091(0x126)][_0x250091(0x10c)][_0x250091(0xf8)]=_0x226136,this['_graphic']['uniforms'][_0x250091(0xb6)]=this[_0x250091(0xf1)]()):this['_createArcGraphic'](_0x226136):this['_graphic']&&_0x585653?this[_0x250091(0x126)][_0x250091(0x10c)][_0x250091(0xf8)]=_0x226136:this['_createGraphic'](_0x226136),this;}},{'key':_0x436d2c(0x125),'value':function _0x940c9a(_0x59a34f){var _0x2f960e=_0x436d2c;this[_0x2f960e(0xc6)](),this[_0x2f960e(0x126)]=new mars3d__namespace[(_0x2f960e(0xe7))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this['_rectangle'],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x59a34f},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer'][_0x2f960e(0xe5)](this[_0x2f960e(0x126)]);}},{'key':_0x436d2c(0xa2),'value':function _0x2c1a12(_0x9d9630){var _0x525fcc=_0x436d2c;this[_0x525fcc(0xc6)]();var _0x85bd69=Cesium[_0x525fcc(0xf6)][_0x525fcc(0x121)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x525fcc(0x9f)],'frontOperation':{'fail':Cesium[_0x525fcc(0x10e)]['KEEP'],'zFail':Cesium[_0x525fcc(0x10e)][_0x525fcc(0xd8)],'zPass':Cesium[_0x525fcc(0x10e)]['REPLACE']},'backFunction':Cesium[_0x525fcc(0xa5)][_0x525fcc(0x9f)],'backOperation':{'fail':Cesium[_0x525fcc(0x10e)][_0x525fcc(0xd8)],'zFail':Cesium[_0x525fcc(0x10e)][_0x525fcc(0xd8)],'zPass':Cesium['StencilOperation']['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium[_0x525fcc(0x122)]['ALPHA_BLEND']}),_0x508ea2=Math[_0x525fcc(0x11f)](Cesium[_0x525fcc(0xf9)](this[_0x525fcc(0x11b)][_0x525fcc(0xd2)],this[_0x525fcc(0xb0)]*0.02))+0.1;this[_0x525fcc(0x11b)][_0x525fcc(0xd2)]&&delete this['style'][_0x525fcc(0xd2)];var _0x553f11=Cesium[_0x525fcc(0xf9)](this[_0x525fcc(0x11b)][_0x525fcc(0xb3)],0x64),_0x3428d5=Math[_0x525fcc(0xe4)](this[_0x525fcc(0xb9)][_0x525fcc(0xa6)],this[_0x525fcc(0xb9)][_0x525fcc(0x12e)]);this['style'][_0x525fcc(0xdf)]=_0x3428d5/=_0x553f11,this[_0x525fcc(0x126)]=new mars3d__namespace['graphic']['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x525fcc(0xa0)]),{},{'rectangle':this[_0x525fcc(0xb9)],'appearance':new Cesium[(_0x525fcc(0x9e))]({'aboveGround':!![],'renderState':_0x85bd69,'material':new Cesium[(_0x525fcc(0xaf))]({'fabric':{'uniforms':{'image':_0x9d9630,'repeat':new Cesium[(_0x525fcc(0xab))](0x1,0x1),'color':new Cesium[(_0x525fcc(0xc9))](0x1,0x1,0x1,0.01),'bumpMap':this['_getArcHeatCanvas']()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x525fcc(0x12f)[_0x525fcc(0xc1)](_0x508ea2,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this['_layer'][_0x525fcc(0xe5)](this['_graphic']);}},{'key':_0x436d2c(0xa3),'value':function _0x3821e9(_0x5f2dcf){var _0x2c90f3=_0x436d2c;return _0x5f2dcf!==null&&_0x5f2dcf!==void 0x0&&_0x5f2dcf[_0x2c90f3(0xbc)]&&this[_0x2c90f3(0xb9)]?mars3d__namespace[_0x2c90f3(0xf4)]['formatRectangle'](this[_0x2c90f3(0xb9)]):this['_rectangle'];}},{'key':_0x436d2c(0xbd),'value':function _0x167a81(){var _0x147f4d=_0x436d2c,_0x576dfc=this,_0x13c70c,_0x356e7a,_0x54b24f=this['_positions'],_0x343da3=[],_0x3e55f7,_0x399568,_0x26c884,_0x2fcb92;_0x54b24f['forEach'](function(_0x1dcc92){var _0x11466a=_0x23a0,_0x338e37=mars3d__namespace[_0x11466a(0xa8)][_0x11466a(0x129)](_0x1dcc92);if(!_0x338e37)return;_0x338e37[_0x11466a(0xd0)]=_0x1dcc92[_0x11466a(0xd0)]||0x1,!_0x576dfc[_0x11466a(0xa0)]['rectangle']&&(_0x3e55f7===undefined?(_0x3e55f7=_0x338e37['lng'],_0x399568=_0x338e37['lng'],_0x26c884=_0x338e37[_0x11466a(0x124)],_0x2fcb92=_0x338e37[_0x11466a(0x124)]):(_0x3e55f7=Math[_0x11466a(0xeb)](_0x3e55f7,_0x338e37['lng']),_0x399568=Math['max'](_0x399568,_0x338e37[_0x11466a(0x112)]),_0x26c884=Math['min'](_0x26c884,_0x338e37[_0x11466a(0x124)]),_0x2fcb92=Math['max'](_0x2fcb92,_0x338e37[_0x11466a(0x124)]))),_0x343da3['push'](_0x338e37);});var _0x1778b9=this[_0x147f4d(0xa0)][_0x147f4d(0x131)]||{'xmin':_0x3e55f7,'xmax':_0x399568,'ymin':_0x26c884,'ymax':_0x2fcb92},_0x4f4f28=getMercatorBounds(_0x1778b9),_0x3ce127=Math[_0x147f4d(0xd4)](_0x4f4f28[_0x147f4d(0xe6)]-_0x4f4f28['xmin']),_0x376e51=Math[_0x147f4d(0xd4)](_0x4f4f28[_0x147f4d(0xdd)]-_0x4f4f28[_0x147f4d(0x111)]),_0x295ccb=Math['max'](_0x3ce127,_0x376e51),_0x575c7e=Math[_0x147f4d(0xeb)](_0x3ce127,_0x376e51);this[_0x147f4d(0xb0)]=_0x295ccb;var _0xabc12c=0x1;if(_0x295ccb>this[_0x147f4d(0xa0)][_0x147f4d(0x136)])_0xabc12c=_0x295ccb/this[_0x147f4d(0xa0)]['maxCanvasSize'],_0x575c7e/_0xabc12c<this[_0x147f4d(0xa0)]['minCanvasSize']&&(_0xabc12c=_0x575c7e/this[_0x147f4d(0xa0)][_0x147f4d(0xf7)]);else _0x575c7e<this[_0x147f4d(0xa0)][_0x147f4d(0xf7)]&&(_0xabc12c=_0x575c7e/this[_0x147f4d(0xa0)][_0x147f4d(0xf7)],_0x295ccb/_0xabc12c>this[_0x147f4d(0xa0)][_0x147f4d(0x136)]&&(_0xabc12c=_0x295ccb/this[_0x147f4d(0xa0)][_0x147f4d(0x136)]));var _0x38ba51=this[_0x147f4d(0xfd)][_0x147f4d(0x105)]*1.5,_0x4258e0=_0x3ce127/_0xabc12c+_0x38ba51*0x2,_0x39d9a1=_0x376e51/_0xabc12c+_0x38ba51*0x2,_0x26e879=_0x38ba51*_0xabc12c;_0x4f4f28[_0x147f4d(0x10b)]-=_0x26e879,_0x4f4f28[_0x147f4d(0x111)]-=_0x26e879,_0x4f4f28['xmax']+=_0x26e879,_0x4f4f28[_0x147f4d(0xdd)]+=_0x26e879,this['_scale']=_0xabc12c,_0x1778b9=geLatLngBounds(_0x4f4f28),this['_rectangle']=Cesium[_0x147f4d(0x120)]['fromDegrees'](_0x1778b9['xmin'],_0x1778b9[_0x147f4d(0x111)],_0x1778b9[_0x147f4d(0xe6)],_0x1778b9[_0x147f4d(0xdd)]);var _0x36731b=(_0x13c70c=_0x343da3[0x0][_0x147f4d(0xd0)])!==null&&_0x13c70c!==void 0x0?_0x13c70c:0x1,_0x18049c=(_0x356e7a=_0x343da3[0x0]['value'])!==null&&_0x356e7a!==void 0x0?_0x356e7a:0x0,_0x36cf55=[];_0x343da3[_0x147f4d(0xe8)](function(_0xe656ec){var _0x70fc05=_0x147f4d,_0x2165b7=mars3d__namespace[_0x70fc05(0x119)][_0x70fc05(0xc3)]([_0xe656ec[_0x70fc05(0x112)],_0xe656ec[_0x70fc05(0x124)]]),_0x4deb24=_0xe656ec['value']||0x1,_0x1f0fbe=Math['round']((_0x2165b7[0x0]-_0x4f4f28[_0x70fc05(0x10b)])/_0xabc12c),_0x1bbe90=Math[_0x70fc05(0xc8)]((_0x4f4f28['ymax']-_0x2165b7[0x1])/_0xabc12c);_0x36731b=Math[_0x70fc05(0xe4)](_0x36731b,_0x4deb24),_0x18049c=Math['min'](_0x18049c,_0x4deb24),_0x36cf55[_0x70fc05(0x13d)]({'x':_0x1f0fbe,'y':_0x1bbe90,'value':_0x4deb24});});var _0x5e8b56={'min':_0x18049c,'max':_0x36731b,'data':_0x36cf55};this[_0x147f4d(0xfe)]=_0x5e8b56;(!this[_0x147f4d(0xed)]||_0x4f4f28[_0x147f4d(0x10b)]!==this['_last_mBounds'][_0x147f4d(0x10b)]||_0x4f4f28['ymin']!==this['_last_mBounds'][_0x147f4d(0x111)]||_0x4f4f28['xmax']!==this[_0x147f4d(0xed)][_0x147f4d(0xe6)]||_0x4f4f28[_0x147f4d(0xdd)]!==this[_0x147f4d(0xed)][_0x147f4d(0xdd)])&&(this['_last_mBounds']=_0x4f4f28,!this['heatStyle'][_0x147f4d(0x108)]&&(this[_0x147f4d(0xfd)]['container']=mars3d__namespace[_0x147f4d(0xcb)][_0x147f4d(0x107)](_0x147f4d(0x114),'mars3d-heatmap\x20mars3d-hideDiv',this['_map']['container'])),this['heatStyle'][_0x147f4d(0x108)][_0x147f4d(0x11b)][_0x147f4d(0xec)]=_0x147f4d(0x113)[_0x147f4d(0xc1)](_0x4258e0,_0x147f4d(0xf3))[_0x147f4d(0xc1)](_0x39d9a1,_0x147f4d(0x9d)),!this[_0x147f4d(0xb1)]?this['_heat']=h337__namespace[_0x147f4d(0x107)](this[_0x147f4d(0xfd)]):this[_0x147f4d(0xb1)][_0x147f4d(0xaa)](this['heatStyle']));this[_0x147f4d(0xb1)][_0x147f4d(0xd9)](_0x5e8b56);var _0x4df403=mars3d__namespace[_0x147f4d(0xcb)][_0x147f4d(0xb7)](this[_0x147f4d(0xb1)][_0x147f4d(0xe1)][_0x147f4d(0xb4)]);return _0x4df403;}},{'key':_0x436d2c(0xf1),'value':function _0x10b1e5(){var _0xe7948c=_0x436d2c;this['_heat'][_0xe7948c(0xaa)]({'radius':this['heatStyle'][_0xe7948c(0x105)]*this['style'][_0xe7948c(0xcd)],'blur':this[_0xe7948c(0xfd)][_0xe7948c(0x12b)]*this['style']['arcBlurScale'],'gradient':this[_0xe7948c(0xfd)][_0xe7948c(0x12c)]||{0.25:_0xe7948c(0xf2),0.55:_0xe7948c(0xc4),0.85:'rgb(216,216,216)',0x1:'rgb(255,255,255)'}});var _0x4ce98c=mars3d__namespace['DomUtil'][_0xe7948c(0xb7)](this[_0xe7948c(0xb1)][_0xe7948c(0xe1)][_0xe7948c(0xb4)]);return this[_0xe7948c(0xb1)][_0xe7948c(0xaa)](this[_0xe7948c(0xa0)][_0xe7948c(0xfd)]),_0x4ce98c;}},{'key':_0x436d2c(0xce),'value':function _0x12cf51(_0x309188){var _0x280e29=_0x436d2c,_0x9e16fa=mars3d__namespace[_0x280e29(0xa8)][_0x280e29(0x129)](_0x309188);if(!_0x9e16fa)return{};var _0x348c5f=mars3d__namespace[_0x280e29(0x119)][_0x280e29(0xc3)]([_0x9e16fa[_0x280e29(0x112)],_0x9e16fa[_0x280e29(0x124)]]),_0x195db4=this[_0x280e29(0xed)],_0x11bec0=Math['round']((_0x348c5f[0x0]-_0x195db4[_0x280e29(0x10b)])/this[_0x280e29(0xe9)]),_0x274150=Math[_0x280e29(0xc8)]((_0x195db4[_0x280e29(0xdd)]-_0x348c5f[0x1])/this[_0x280e29(0xe9)]),_0x5c9636=this[_0x280e29(0xb1)]['getValueAt']({'x':_0x11bec0,'y':_0x274150}),_0x2ee29d=this[_0x280e29(0xb1)][_0x280e29(0xe1)][_0x280e29(0x10d)][_0x280e29(0xf5)](_0x11bec0-0x1,_0x274150-0x1,0x1,0x1)[_0x280e29(0x10f)];return{'x':_0x11bec0,'y':_0x274150,'value':_0x5c9636,'color':_0x280e29(0xc0)+_0x2ee29d[0x0]+','+_0x2ee29d[0x1]+','+_0x2ee29d[0x2]+','+_0x2ee29d[0x3]+')'};}}]),_0x5e681e;}(BaseLayer);mars3d__namespace['layer'][_0x3b7b26(0x104)]=HeatLayer,mars3d__namespace[_0x3b7b26(0x100)]['register']('heat',HeatLayer);function getMercatorBounds(_0x5d0e49){var _0x2e244b=_0x3b7b26,_0x4aa4ab=mars3d__namespace[_0x2e244b(0x119)][_0x2e244b(0xc3)]([_0x5d0e49[_0x2e244b(0x10b)],_0x5d0e49['ymin']]),_0xa5514c=mars3d__namespace[_0x2e244b(0x119)][_0x2e244b(0xc3)]([_0x5d0e49[_0x2e244b(0xe6)],_0x5d0e49[_0x2e244b(0xdd)]]);return{'xmin':_0x4aa4ab[0x0],'ymin':_0x4aa4ab[0x1],'xmax':_0xa5514c[0x0],'ymax':_0xa5514c[0x1]};}function geLatLngBounds(_0x346ce5){var _0x393b6a=_0x3b7b26,_0x159d22=mars3d__namespace[_0x393b6a(0x119)][_0x393b6a(0xbe)]([_0x346ce5[_0x393b6a(0x10b)],_0x346ce5[_0x393b6a(0x111)]]),_0x55b1a0=mars3d__namespace[_0x393b6a(0x119)][_0x393b6a(0xbe)]([_0x346ce5['xmax'],_0x346ce5[_0x393b6a(0xdd)]]);return{'xmin':_0x159d22[0x0],'ymin':_0x159d22[0x1],'xmax':_0x55b1a0[0x0],'ymax':_0x55b1a0[0x1]};}exports[_0x3b7b26(0x104)]=HeatLayer,Object[_0x3b7b26(0x109)](exports,_0x3b7b26(0xee),{'value':!![]});
}));
